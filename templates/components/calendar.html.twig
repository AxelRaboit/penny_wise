<div id="calendarBubble" x-show="hoverAll" x-transition.opacity.duration.300ms
     class="fixed bottom-52 right-4 bg-secondary hover:bg-secondary-hover text-white py-4 px-5 rounded-full cursor-pointer shadow-lg z-40">
    <i class="fa-solid fa-calendar"></i>
</div>

<div id="calendarModal" class="fixed top-0 right-0 w-full md:w-1/3 h-full bg-accent shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out z-50 overflow-hidden">
    <div class="bg-secondary text-white p-4 flex justify-between items-center">
        <div class="flex items-center justify-center">
            <h2 class="text-md font-bold text-white mr-5">Calendar</h2>
        </div>
        <button id="closeCalendarModal" class="text-white hover:text-gray-200">
            <i class="fa-solid fa-times text-xl"></i>
        </button>
    </div>

    <div class="p-4 h-[calc(100%-4rem)] overflow-y-auto">
        <div id="monthly-month">
            <div class="w-full rounded-b-md p-2 bg-accent">
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-1">
                    {% set allMonths = 1..12 %}

                    {% for yearDto in walletsAndTransactionsFromYear %}
                        {% set monthNumbers = yearDto.getMonths()|map(m => m.getMonthNumber()) %}

                        {% for i in allMonths %}
                            {% if i in monthNumbers %}
                                {% for monthDto in yearDto.getMonths() %}
                                    {% if monthDto.getMonthNumber() == i %}
                                        <a href="{{ path('account_wallet_dashboard', {year: yearDto.getYear(), month: monthDto.getMonthNumber(), accountId: account.id, walletId: monthDto.getWalletId()}) }}"
                                           class="text-sm text-center font-bold py-2 px-4 rounded-md
                                        {% if monthDto.getMonthNumber() == currentMonth and yearDto.getYear() == currentYear %}
                                            bg-septenary hover:bg-septenary-hover text-white
                                        {% else %}
                                            {{ monthDto.getMonthNumber() == currentMonth ? 'bg-quinary text-white hover:bg-quinary-hover' : 'bg-secondary text-white hover:bg-secondary-hover' }}
                                        {% endif %}">
                                            {{ monthDto.getMonthName() }}
                                        </a>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                                <a href="{{ path('account_wallet_add_quick_month', {accountId: account.getId(), yearId: yearDto.getYear(), monthId: i}) }}"
                                   class="text-sm text-center font-bold py-2 px-4 rounded-md bg-gray-400 hover:bg-gray-300 text-white">
                                    {{ i|month_name }}
                                </a>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
